!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.sprintly=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t,e){i.ajax=o(t,e),this.products=new s,this.user=new a}var i=t("./lib/support/backbone"),o=t("./lib/support/basic-auth"),s=t("./lib/products"),a=t("./lib/user"),u=t("./lib/page_consumer"),c=t("./package.json").version;n.createClient=function(t,e){return new r(t,e)},n.VERSION=c,n.Client=r,n.collectionConsumer=u},{"./lib/page_consumer":8,"./lib/products":9,"./lib/support/backbone":12,"./lib/support/basic-auth":13,"./lib/user":14,"./package.json":93}],2:[function(t,e,n){(function(t){n.BASE_URL=t.env.BASE_URL||"https://sprint.ly/api"}).call(this,t("FWaASH"))},{FWaASH:86}],3:[function(t,e){var n=t("../../support/backbone"),r=n.Model.extend({url:function(){return n.Model.prototype.url.apply(this,arguments).replace(".json","")+".json"}});e.exports=r},{"../../support/backbone":12}],4:[function(t,e){var n=t("lodash"),r=t("../../support/backbone"),i=t("ampersand-dependency-mixin"),o=t("./comment"),s=r.Collection.extend({model:o,dependencies:{item:"Item Model"},initialize:function(t,e){this.attachDeps(e)},url:function(){return this.item.url().replace(".json","")+"/comments.json"}});n.extend(s.prototype,i),e.exports=s},{"../../support/backbone":12,"./comment":3,"ampersand-dependency-mixin":15,lodash:90}],5:[function(t,e){var n=t("lodash"),r=t("../support/backbone"),i=t("../config"),o=t("ampersand-dependency-mixin"),s=t("./item"),a=t("./query-config"),u=r.Collection.extend({dependencies:{productId:"Product ID"},constructor:function(t,e){e=e||{},this.attachDeps(e),this.config=e.config.attributes?e.config:new a(e.config),e=n.omit(e,"config"),r.Collection.apply(this,arguments)},url:function(){return i.BASE_URL+"/products/"+this.productId+"/items"},sync:function(t,e,n){n=n||{};var i=n.url||("function"==typeof e.url?e.url():e.url);if("read"===t){var o=this.config.serialize(n.config);n.url=i+".json?"+o}else n.url=i+".json";return r.Collection.prototype.sync.call(this,t,e,n)}});u.ITEM_TYPES=s.ITEM_STATUSES,u.STAGES=s.STAGES,n.extend(u.prototype,o),e.exports=u},{"../config":2,"../support/backbone":12,"./item":6,"./query-config":7,"ampersand-dependency-mixin":15,lodash:90}],6:[function(t,e){var n=t("lodash"),r=t("supermodel"),i=t("./comments"),o=r.Model.extend({initialize:function(){this.comments=new i(null,{item:this})},idAttribute:"number",url:function(){var t=r.Model.prototype.url.apply(this,arguments);return t+".json"},toJSON:function(){var t=r.Model.prototype.toJSON.call(this);return n.isArray(t.tags)&&(t.tags=t.tags.join(",")),t},validate:function(t){var e={type:n.partial(n.contains,o.ITEM_TYPES)};t.type&&"story"===t.type?n.extend(e,{who:n.isString,what:n.isString,why:n.isString}):n.extend(e,{title:n.isString});var r=n.reject(n.keys(e),function(n){var r=e[n],i=t[n];return i?r(t[n]):!1});if(r.length>0)return"Missing or invalid properties: "+r.join(", ");var i={description:n.isString,status:n.partial(n.contains,Object.keys(o.ITEM_STATUSES)),assigned_to:n.isNumber},s=n.reject(n.keys(i),function(e){var n=i[e],r=t[e];return r?n(r):!0});return s.length>0?["Invalid ",1===s.length?"property":"properties",": ",s.join(", ")].join(""):void 0}});o.ITEM_TYPES=["story","task","defect","test"],o.ITEM_STATUSES={someday:"Someday",backlog:"Backlog","in-progress":"Current",completed:"Done",accepted:"Accepted"},o.STAGES={Triage:["someday","backlog"],Underway:["backlog","in-progress"],Pending:["in-progress","completed"],Done:["completed","accepted"]},e.exports=o},{"./comments":4,lodash:90,supermodel:92}],7:[function(t,e){var n=t("lodash"),r=t("../support/backbone"),i=t("querystring");e.exports=r.Model.extend({defaults:function(){return{offset:0,limit:100,status:"backlog",order_by:"newest"}},serialize:function(t){var e=this.toJSON();return t&&(e=n.extend({},e,t)),i.stringify(e)}})},{"../support/backbone":12,lodash:90,querystring:89}],8:[function(t,e){var n=t("async"),r=t("q"),i=t("lodash"),o=function(t,e){this.collection=t;var r=e.workers||5;this.increment=e.increment||500,this.q=n.queue(i.bind(function(t,e){this.collection.fetch({config:{offset:t.offset},remove:!1}).then(function(){e()})},this),r)};o.prototype={consume:function(){var t=r.defer();return this.q.drain=function(){t.resolve()},this.collection.fetch({config:{offset:0},remove:!1,success:i.bind(function(t,e,n){var r=n.res.headers["x-sprintly-item-count"],o=r-this.increment;console.log(r,o,this.increment);var s=1;o>0&&i.times(Math.ceil(o/this.increment),function(t){this.q.push({offset:(t+s)*this.increment})},this)},this)}),t.promise}},e.exports=function(t,e){return new o(t,e).consume()}},{async:79,lodash:90,q:91}],9:[function(t,e){var n=t("../support/backbone"),r=t("./product"),i=t("../config"),o=n.Collection.extend({model:r,url:i.BASE_URL+"/products.json"});e.exports=o},{"../config":2,"../support/backbone":12,"./product":11}],10:[function(t,e){var n=t("lodash"),r=t("../support/backbone"),i=t("../config"),o=t("ampersand-dependency-mixin"),s=r.Collection.extend({url:function(){return i.BASE_URL+"/products/"+this.productId+"/people.json"},dependencies:{productId:"Product ID"},initialize:function(t,e){this.attachDeps(e)}});n.extend(s.prototype,o),e.exports=s},{"../config":2,"../support/backbone":12,"ampersand-dependency-mixin":15,lodash:90}],11:[function(t,e){var n=t("../support/backbone"),r=t("../config"),i=t("../items"),o=t("../items/item"),s=t("./people"),a=t("../items/query-config");e.exports=n.Model.extend({constructor:function(t){this.members=new s(null,{productId:t.id});var e=this.ItemModel=o.extend({urlRoot:this.url(t.id).replace(".json","/items")});Object.defineProperty(this,"items",{get:function(){return e.all()}}),this._filters={},n.Model.apply(this,arguments)},url:function(t){return t=t||this.id,r.BASE_URL+"/products/"+t+".json"},createItem:function(t,e){var n=new this.ItemModel(t,e);return n},createItemsCollection:function(t,e){var n=this.ItemModel,r=new a(e),o=r.serialize(),s=this._filters[o];return s?s.add(t):s=this._filters[o]=new i(t||[],{productId:this.get("id"),people:this.people,model:function(t,e){return n.create(t,e)},config:r}),s},getItemsByStatus:function(t){return this.createItemsCollection(null,{status:t})},getItemsByUser:function(t){return this.createItemsCollection(null,{created_by:t})}})},{"../config":2,"../items":5,"../items/item":6,"../items/query-config":7,"../support/backbone":12,"./people":10}],12:[function(t,e){var n=t("backdash");n.sync=t("backbone-super-sync"),e.exports=n},{"backbone-super-sync":80,backdash:85}],13:[function(t,e){var n=t("./backbone");e.exports=function(t,e){return n.sync.editRequest=function(n,r){("create"===r||"update"===r)&&n.type("form"),n.auth(t,e)},n.ajax}},{"./backbone":12}],14:[function(t,e){var n=t("./support/backbone"),r=t("./config");e.exports=n.Model.extend({url:r.BASE_URL+"/user/whoami.json"})},{"./config":2,"./support/backbone":12}],15:[function(t,e,n){var r=t("lodash.map"),i=t("lodash.compact"),o=t("lodash.isfunction");n.attachDeps=function(t,e){t=t||{},e=e||{},e.overwrite=e.overwrite||!1;var n=o(this.dependencies)?this.dependencies():this.dependencies,s=i(r(n,function(n,r){var i=r,o=n;return"number"==typeof r&&(i=n,o="`"+n+"`"),t[i]?void(e.overwrite===!1&&this[i]||(this[i]=t[i])):o},this));if(s.length>0)throw new Error(["Missing required dependencies:",s.join(", ")].join(" "))}},{"lodash.compact":16,"lodash.isfunction":17,"lodash.map":18}],16:[function(t,e){function n(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}e.exports=n},{}],17:[function(t,e){function n(t){return"function"==typeof t}e.exports=n},{}],18:[function(t,e){function n(t,e,n){var o=-1,s=t?t.length:0;if(e=r(e,n,3),"number"==typeof s)for(var a=Array(s);++o<s;)a[o]=e(t[o],o,t);else a=[],i(t,function(t,n,r){a[++o]=e(t,n,r)});return a}var r=t("lodash.createcallback"),i=t("lodash.forown");e.exports=n},{"lodash.createcallback":19,"lodash.forown":53}],19:[function(t,e){function n(t,e,n){var u=typeof t;if(null==t||"function"==u)return r(t,e,n);if("object"!=u)return a(t);var c=s(t),l=c[0],f=t[l];return 1!=c.length||f!==f||o(f)?function(e){for(var n=c.length,r=!1;n--&&(r=i(e[c[n]],t[c[n]],null,!0)););return r}:function(t){var e=t[l];return f===e&&(0!==f||1/f==1/e)}}var r=t("lodash._basecreatecallback"),i=t("lodash._baseisequal"),o=t("lodash.isobject"),s=t("lodash.keys"),a=t("lodash.property");e.exports=n},{"lodash._basecreatecallback":20,"lodash._baseisequal":38,"lodash.isobject":46,"lodash.keys":48,"lodash.property":52}],20:[function(t,e){function n(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e||!("prototype"in t))return t;var l=t.__bindData__;if("undefined"==typeof l&&(s.funcNames&&(l=!t.name),l=l||!s.funcDecomp,!l)){var f=c.call(t);s.funcNames||(l=!a.test(f)),l||(l=u.test(f),o(t,l))}if(l===!1||l!==!0&&1&l[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return r(t,e)}var r=t("lodash.bind"),i=t("lodash.identity"),o=t("lodash._setbinddata"),s=t("lodash.support"),a=/^\s*function[ \n\r\t]+\w/,u=/\bthis\b/,c=Function.prototype.toString;e.exports=n},{"lodash._setbinddata":21,"lodash.bind":24,"lodash.identity":35,"lodash.support":36}],21:[function(t,e){var n=t("lodash._isnative"),r=t("lodash.noop"),i={configurable:!1,enumerable:!1,value:null,writable:!1},o=function(){try{var t={},e=n(e=Object.defineProperty)&&e,r=e(t,t,t)&&e}catch(i){}return r}(),s=o?function(t,e){i.value=e,o(t,"__bindData__",i)}:r;e.exports=s},{"lodash._isnative":22,"lodash.noop":23}],22:[function(t,e){function n(t){return"function"==typeof t&&o.test(t)}var r=Object.prototype,i=r.toString,o=RegExp("^"+String(i).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");e.exports=n},{}],23:[function(t,e){function n(){}e.exports=n},{}],24:[function(t,e){function n(t,e){return arguments.length>2?r(t,17,i(arguments,2),null,e):r(t,1,null,null,e)}var r=t("lodash._createwrapper"),i=t("lodash._slice");e.exports=n},{"lodash._createwrapper":25,"lodash._slice":34}],25:[function(t,e){function n(t,e,a,l,f,p){var h=1&e,d=2&e,v=4&e,y=16&e,m=32&e;if(!d&&!o(t))throw new TypeError;y&&!a.length&&(e&=-17,y=a=!1),m&&!l.length&&(e&=-33,m=l=!1);var g=t&&t.__bindData__;if(g&&g!==!0)return g=s(g),g[2]&&(g[2]=s(g[2])),g[3]&&(g[3]=s(g[3])),!h||1&g[1]||(g[4]=f),!h&&1&g[1]&&(e|=8),!v||4&g[1]||(g[5]=p),y&&u.apply(g[2]||(g[2]=[]),a),m&&c.apply(g[3]||(g[3]=[]),l),g[1]|=e,n.apply(null,g);var b=1==e||17===e?r:i;return b([t,e,a,l,f,p])}var r=t("lodash._basebind"),i=t("lodash._basecreatewrapper"),o=t("lodash.isfunction"),s=t("lodash._slice"),a=[],u=a.push,c=a.unshift;e.exports=n},{"lodash._basebind":26,"lodash._basecreatewrapper":30,"lodash._slice":34,"lodash.isfunction":17}],26:[function(t,e){function n(t){function e(){if(a){var t=s(a);u.apply(t,arguments)}if(this instanceof e){var o=r(n.prototype),l=n.apply(o,t||arguments);return i(l)?l:o}return n.apply(c,t||arguments)}var n=t[0],a=t[2],c=t[4];return o(e,t),e}var r=t("lodash._basecreate"),i=t("lodash.isobject"),o=t("lodash._setbinddata"),s=t("lodash._slice"),a=[],u=a.push;e.exports=n},{"lodash._basecreate":27,"lodash._setbinddata":21,"lodash._slice":34,"lodash.isobject":46}],27:[function(t,e){(function(n){function r(t){return o(t)?s(t):{}}var i=t("lodash._isnative"),o=t("lodash.isobject"),s=(t("lodash.noop"),i(s=Object.create)&&s);s||(r=function(){function t(){}return function(e){if(o(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}()),e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":28,"lodash.isobject":46,"lodash.noop":29}],28:[function(t,e){e.exports=t(22)},{}],29:[function(t,e){e.exports=t(23)},{}],30:[function(t,e){function n(t){function e(){var t=d?p:this;if(l){var o=s(l);u.apply(o,arguments)}if((f||y)&&(o||(o=s(arguments)),f&&u.apply(o,f),y&&o.length<h))return c|=16,n([a,m?c:-4&c,o,null,p,h]);if(o||(o=arguments),v&&(a=t[g]),this instanceof e){t=r(a.prototype);var b=a.apply(t,o);return i(b)?b:t}return a.apply(t,o)}var a=t[0],c=t[1],l=t[2],f=t[3],p=t[4],h=t[5],d=1&c,v=2&c,y=4&c,m=8&c,g=a;return o(e,t),e}var r=t("lodash._basecreate"),i=t("lodash.isobject"),o=t("lodash._setbinddata"),s=t("lodash._slice"),a=[],u=a.push;e.exports=n},{"lodash._basecreate":31,"lodash._setbinddata":21,"lodash._slice":34,"lodash.isobject":46}],31:[function(t,e){e.exports=t(27)},{"lodash._isnative":32,"lodash.isobject":46,"lodash.noop":33}],32:[function(t,e){e.exports=t(22)},{}],33:[function(t,e){e.exports=t(23)},{}],34:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=n},{}],35:[function(t,e){function n(t){return t}e.exports=n},{}],36:[function(t,e){(function(n){var r=t("lodash._isnative"),i=/\bthis\b/,o={};o.funcDecomp=!r(n.WinRTError)&&i.test(function(){return this}),o.funcNames="string"==typeof Function.name,e.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":37}],37:[function(t,e){e.exports=t(22)},{}],38:[function(t,e){function n(t,e,y,b,_,w){if(y){var x=y(t,e);if("undefined"!=typeof x)return!!x}if(t===e)return 0!==t||1/t==1/e;var k=typeof t,j=typeof e;if(!(t!==t||t&&s[k]||e&&s[j]))return!1;if(null==t||null==e)return t===e;var S=m.call(t),E=m.call(e);if(S==u&&(S=h),E==u&&(E=h),S!=E)return!1;switch(S){case l:case f:return+t==+e;case p:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case d:case v:return t==String(e)}var A=S==c;if(!A){var T=g.call(t,"__wrapped__"),O=g.call(e,"__wrapped__");if(T||O)return n(T?t.__wrapped__:t,O?e.__wrapped__:e,y,b,_,w);if(S!=h)return!1;var C=t.constructor,I=e.constructor;if(C!=I&&!(o(C)&&C instanceof C&&o(I)&&I instanceof I)&&"constructor"in t&&"constructor"in e)return!1}var R=!_;_||(_=i()),w||(w=i());for(var q=_.length;q--;)if(_[q]==t)return w[q]==e;var N=0;if(x=!0,_.push(t),w.push(e),A){if(q=t.length,N=e.length,x=N==q,x||b)for(;N--;){var P=q,M=e[N];if(b)for(;P--&&!(x=n(t[P],M,y,b,_,w)););else if(!(x=n(t[N],M,y,b,_,w)))break}}else r(e,function(e,r,i){return g.call(i,r)?(N++,x=g.call(t,r)&&n(t[r],e,y,b,_,w)):void 0}),x&&!b&&r(t,function(t,e,n){return g.call(n,e)?x=--N>-1:void 0});return _.pop(),w.pop(),R&&(a(_),a(w)),x}var r=t("lodash.forin"),i=t("lodash._getarray"),o=t("lodash.isfunction"),s=t("lodash._objecttypes"),a=t("lodash._releasearray"),u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",p="[object Number]",h="[object Object]",d="[object RegExp]",v="[object String]",y=Object.prototype,m=y.toString,g=y.hasOwnProperty;e.exports=n},{"lodash._getarray":39,"lodash._objecttypes":41,"lodash._releasearray":42,"lodash.forin":45,"lodash.isfunction":17}],39:[function(t,e){function n(){return r.pop()||[]}var r=t("lodash._arraypool");e.exports=n},{"lodash._arraypool":40}],40:[function(t,e){var n=[];e.exports=n},{}],41:[function(t,e){var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=n},{}],42:[function(t,e){function n(t){t.length=0,r.length<i&&r.push(t)}var r=t("lodash._arraypool"),i=t("lodash._maxpoolsize");e.exports=n},{"lodash._arraypool":43,"lodash._maxpoolsize":44}],43:[function(t,e){e.exports=t(40)},{}],44:[function(t,e){var n=40;e.exports=n},{}],45:[function(t,e){var n=t("lodash._basecreatecallback"),r=t("lodash._objecttypes"),i=function(t,e,i){var o,s=t,a=s;if(!s)return a;if(!r[typeof s])return a;e=e&&"undefined"==typeof i?e:n(e,i,3);for(o in s)if(e(s[o],o,t)===!1)return a;return a};e.exports=i},{"lodash._basecreatecallback":20,"lodash._objecttypes":41}],46:[function(t,e){function n(t){return!(!t||!r[typeof t])}var r=t("lodash._objecttypes");e.exports=n},{"lodash._objecttypes":47}],47:[function(t,e){e.exports=t(41)},{}],48:[function(t,e){var n=t("lodash._isnative"),r=t("lodash.isobject"),i=t("lodash._shimkeys"),o=n(o=Object.keys)&&o,s=o?function(t){return r(t)?o(t):[]}:i;e.exports=s},{"lodash._isnative":49,"lodash._shimkeys":50,"lodash.isobject":46}],49:[function(t,e){e.exports=t(22)},{}],50:[function(t,e){var n=t("lodash._objecttypes"),r=Object.prototype,i=r.hasOwnProperty,o=function(t){var e,r=t,o=[];if(!r)return o;if(!n[typeof t])return o;for(e in r)i.call(r,e)&&o.push(e);return o};e.exports=o},{"lodash._objecttypes":51}],51:[function(t,e){e.exports=t(41)},{}],52:[function(t,e){function n(t){return function(e){return e[t]}}e.exports=n},{}],53:[function(t,e){var n=t("lodash._basecreatecallback"),r=t("lodash.keys"),i=t("lodash._objecttypes"),o=function(t,e,o){var s,a=t,u=a;if(!a)return u;if(!i[typeof a])return u;e=e&&"undefined"==typeof o?e:n(e,o,3);for(var c=-1,l=i[typeof a]&&r(a),f=l?l.length:0;++c<f;)if(s=l[c],e(a[s],s,t)===!1)return u;return u};e.exports=o},{"lodash._basecreatecallback":54,"lodash._objecttypes":74,"lodash.keys":75}],54:[function(t,e){e.exports=t(20)},{"lodash._setbinddata":55,"lodash.bind":58,"lodash.identity":71,"lodash.support":72}],55:[function(t,e){e.exports=t(21)},{"lodash._isnative":56,"lodash.noop":57}],56:[function(t,e){e.exports=t(22)},{}],57:[function(t,e){e.exports=t(23)},{}],58:[function(t,e){e.exports=t(24)},{"lodash._createwrapper":59,"lodash._slice":70}],59:[function(t,e){e.exports=t(25)},{"lodash._basebind":60,"lodash._basecreatewrapper":65,"lodash._slice":70,"lodash.isfunction":17}],60:[function(t,e){e.exports=t(26)},{"lodash._basecreate":61,"lodash._setbinddata":55,"lodash._slice":70,"lodash.isobject":64}],61:[function(t,e){e.exports=t(27)},{"lodash._isnative":62,"lodash.isobject":64,"lodash.noop":63}],62:[function(t,e){e.exports=t(22)},{}],63:[function(t,e){e.exports=t(23)},{}],64:[function(t,e){e.exports=t(46)},{"lodash._objecttypes":74}],65:[function(t,e){e.exports=t(30)},{"lodash._basecreate":66,"lodash._setbinddata":55,"lodash._slice":70,"lodash.isobject":69}],66:[function(t,e){e.exports=t(27)},{"lodash._isnative":67,"lodash.isobject":69,"lodash.noop":68}],67:[function(t,e){e.exports=t(22)},{}],68:[function(t,e){e.exports=t(23)},{}],69:[function(t,e){e.exports=t(46)},{"lodash._objecttypes":74}],70:[function(t,e){e.exports=t(34)},{}],71:[function(t,e){e.exports=t(35)},{}],72:[function(t,e){e.exports=t(36)},{"lodash._isnative":73}],73:[function(t,e){e.exports=t(22)},{}],74:[function(t,e){e.exports=t(41)},{}],75:[function(t,e){e.exports=t(48)},{"lodash._isnative":76,"lodash._shimkeys":77,"lodash.isobject":78}],76:[function(t,e){e.exports=t(22)},{}],77:[function(t,e){e.exports=t(50)},{"lodash._objecttypes":74}],78:[function(t,e){e.exports=t(46)},{"lodash._objecttypes":74}],79:[function(e,n){(function(e){!function(){function r(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,o,s={};i=this,null!=i&&(o=i.async),s.noConflict=function(){return i.async=o,s};var a=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===a.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},l=function(t,e){if(t.map)return t.map(e);var n=[];return c(t,function(t,r,i){n.push(e(t,r,i))}),n},f=function(t,e,n){return t.reduce?t.reduce(e,n):(c(t,function(t,r,i){n=e(n,t,r,i)}),n)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,n){function i(e){e?(n(e),n=function(){}):(o+=1,o>=t.length&&n())}if(n=n||function(){},!t.length)return n();var o=0;c(t,function(t){e(t,r(i))})},s.forEach=s.each,s.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,n,r){var i=h(e);i.apply(null,[t,n,r])},s.forEachLimit=s.eachLimit;var h=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[h(t)].concat(n))}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,n,r){if(e=l(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};s.map=d(m),s.mapSeries=y(m),s.mapLimit=function(t,e,n,r){return g(e)(t,n,r)};var g=function(t){return v(t,m)};s.reduce=function(t,e,n,r){s.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,n,r){var i=l(t,function(t){return t}).reverse();s.reduce(i,e,n,r)},s.foldr=s.reduceRight;var b=function(t,e,n,r){var i=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(){r(l(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=d(b),s.filterSeries=y(b),s.select=s.filter,s.selectSeries=s.filterSeries;var _=function(t,e,n,r){var i=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(){r(l(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=d(_),s.rejectSeries=y(_);var w=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(){r()})};s.detect=d(w),s.detectSeries=y(w),s.some=function(t,e,n){s.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(){n(!1)})},s.any=s.some,s.every=function(t,e,n){s.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(){n(!0)})},s.all=s.every,s.sortBy=function(t,e,n){s.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,l(e.sort(r),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var n=p(t),r=n.length;if(!r)return e();var i={},o=[],a=function(t){o.unshift(t)},l=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},h=function(){r--,c(o.slice(0),function(t){t()})};a(function(){if(!r){var t=e;e=function(){},t(null,i)}}),c(n,function(n){var r=u(t[n])?t[n]:[t[n]],o=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var o={};c(p(i),function(t){o[t]=i[t]}),o[n]=r,e(t,o),e=function(){}}else i[n]=r,s.setImmediate(h)},d=r.slice(0,Math.abs(r.length-1))||[],v=function(){return f(d,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(v())r[r.length-1](o,i);else{var y=function(){v()&&(l(y),r[r.length-1](o,i))};a(y)}})},s.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var o=function(r,o){for(var a=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},o)}};t;)i.push(a(e,!(t-=1)));s.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?o():o},s.waterfall=function(t,e){if(e=e||function(){},!u(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();i.push(o?r(o):e),s.setImmediate(function(){t.apply(null,i)})}}};r(s.iterator(t))()};var x=function(t,e,n){if(n=n||function(){},u(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(p(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};s.parallel=function(t,e){x({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,n){x({map:g(e),each:h(e)},t,n)},s.series=function(t,e){if(e=e||function(){},u(t))s.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};s.eachSeries(p(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},s.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var k=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};s.concat=d(k),s.concatSeries=y(k),s.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void s.whilst(t,e,n)}):n()},s.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?s.doWhilst(t,e,n):n()})},s.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void s.until(t,e,n)})},s.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():s.doUntil(t,e,n)})},s.queue=function(t,e){function n(t,e,n,r){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void c(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){n(o,t,!0,e)},process:function(){if(!o.paused&&i<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),i+=1;var n=function(){i-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+i===0&&o.drain(),o.process()},s=r(n);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return i},idle:function(){return o.tasks.length+i===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,o){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void c(e,function(e){var a={data:e,priority:i,callback:"function"==typeof o?o:null};t.tasks.splice(r(t.tasks,a,n)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,n){i(o,t,e,n)},delete o.unshift,o},s.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){u(t)||(t=[t]),c(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),s.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=l(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;c(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var j=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&c(n,function(e){console[t](e)}))}]))}};s.log=j("log"),s.dir=j("dir"),s.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=e.apply(null,i);a in n?s.nextTick(function(){o.apply(null,n[a])}):a in r?r[a].push(o):(r[a]=[o],t.apply(null,i.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return s.map(r,e,n)},s.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return s.mapSeries(r,e,n)},s.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();s.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var S=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};s.applyEach=d(S),s.applyEachSeries=y(S),s.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof n&&n.exports?n.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):i.async=s}()}).call(this,e("FWaASH"))},{FWaASH:86}],80:[function(t,e){var n=t("superagent"),r=t("q");METHOD_MAP={create:"post",update:"put","delete":"del",read:"get",patch:"patch"},e.exports=function(t,i,o){var s=o.url||("function"==typeof i.url?i.url():i.url),a=o.data||("create"===t||"update"===t?i.toJSON():{}),u=n[METHOD_MAP[t]](s),c=r.defer();if(e.exports.editRequest(u,t,i,o),"create"==t||"update"==t?u.send(a):u.query(a),o.headers)for(key in o.headers)u.set(key,o.headers[key]);return u.end(function(t){t.ok?(o.res=t,c.resolve(i),o.success&&o.success(t.body,t)):t.ok||(c.reject(t),o.error&&o.error(t)),o.complete&&o.complete(t)}),i.trigger("request",i,u,o),c.promise},e.exports.editRequest=function(){}},{q:81,superagent:82}],81:[function(e,n,r){(function(e){!function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof r)n.exports=e();else if("function"==typeof t&&t.amd)t(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){"use strict";function t(t){return function(){return G.apply(t,arguments)}}function n(t){return t===Object(t)}function r(t){return"[object StopIteration]"===ne(t)||t instanceof F}function i(t,e){if(L&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(re)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+re+"\n");t.stack=o(i)}}function o(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var i=e[r];
u(i)||s(i)||!i||n.push(i)}return n.join("\n")}function s(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function a(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function u(t){var e=a(t);if(!e)return!1;var n=e[0],r=e[1];return n===B&&r>=J&&ae>=r}function c(){if(L)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=a(n);if(!r)return;return B=r[0],r[1]}}function l(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function f(t){return g(t)?t:b(t)?T(t):A(t)}function p(){function t(t){e=t,o.source=t,K(n,function(e,n){X(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],i=Z(p.prototype),o=Z(v.prototype);if(o.promiseDispatch=function(t,i,o){var s=V(arguments);n?(n.push(s),"when"===i&&o[1]&&r.push(o[1])):X(function(){e.promiseDispatch.apply(e,s)})},o.valueOf=function(){if(n)return o;var t=m(e);return g(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},f.longStackSupport&&L)try{throw new Error}catch(s){o.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){e||t(f(n))},i.fulfill=function(n){e||t(A(n))},i.reject=function(n){e||t(E(n))},i.notify=function(t){e||K(r,function(e,n){X(function(){n(t)})},void 0)},i}function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=p();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function d(t){return h(function(e,n){for(var r=0,i=t.length;i>r;r++)f(t[r]).then(e,n)})}function v(t,e,n){void 0===e&&(e=function(t){return E(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(v.prototype);if(r.promiseDispatch=function(n,i,o){var s;try{s=t[i]?t[i].apply(r,o):e.call(r,i,o)}catch(a){s=E(a)}n&&n(s)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function y(t,e,n,r){return f(t).then(e,n,r)}function m(t){if(g(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function g(t){return n(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function b(t){return n(t)&&"function"==typeof t.then}function _(t){return g(t)&&"pending"===t.inspect().state}function w(t){return!g(t)||"fulfilled"===t.inspect().state}function x(t){return g(t)&&"rejected"===t.inspect().state}function k(){ie.length=0,oe.length=0,se||(se=!0)}function j(t,e){se&&(oe.push(t),ie.push(e&&"undefined"!=typeof e.stack?e.stack:"(no stack) "+e))}function S(t){if(se){var e=Q(oe,t);-1!==e&&(oe.splice(e,1),ie.splice(e,1))}}function E(t){var e=v({when:function(e){return e&&S(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return j(e,t),e}function A(t){return v({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return ee(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function T(t){var e=p();return X(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function O(t){return v({isDef:function(){}},function(e,n){return P(t,e,n)},function(){return f(t).inspect()})}function C(t,e,n){return f(t).spread(e,n)}function I(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=n[t](e)}catch(a){return E(a)}return s.done?s.value:y(s.value,i,o)}try{s=n[t](e)}catch(a){return r(a)?a.value:E(a)}return y(s,i,o)}var n=t.apply(this,arguments),i=e.bind(e,"next"),o=e.bind(e,"throw");return i()}}function R(t){f.done(f.async(t)())}function q(t){throw new F(t)}function N(t){return function(){return C([this,M(arguments)],function(e,n){return t.apply(e,n)})}}function P(t,e,n){return f(t).dispatch(e,n)}function M(t){return y(t,function(t){var e=0,n=p();return K(t,function(r,i,o){var s;g(i)&&"fulfilled"===(s=i.inspect()).state?t[o]=s.value:(++e,y(i,function(r){t[o]=r,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function H(t){return y(t,function(t){return t=Y(t,f),y(M(Y(t,function(t){return y(t,W,W)})),function(){return t})})}function $(t){return f(t).allSettled()}function U(t,e){return f(t).then(void 0,void 0,e)}function D(t,e){return f(t).nodeify(e)}var L=!1;try{throw new Error}catch(z){L=!!z.stack}var B,F,J=c(),W=function(){},X=function(){function t(){for(;n.next;){n=n.next;var e=n.task;n.task=void 0;var r=n.domain;r&&(n.domain=void 0,r.enter());try{e()}catch(o){if(s)throw r&&r.exit(),setTimeout(t,0),r&&r.enter(),o;setTimeout(function(){throw o},0)}r&&r.exit()}i=!1}var n={task:void 0,next:null},r=n,i=!1,o=void 0,s=!1;if(X=function(t){r=r.next={task:t,domain:s&&e.domain,next:null},i||(i=!0,o())},"undefined"!=typeof e&&e.nextTick)s=!0,o=function(){e.nextTick(t)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var a=new MessageChannel;a.port1.onmessage=function(){o=u,a.port1.onmessage=t,t()};var u=function(){a.port2.postMessage(0)};o=function(){setTimeout(t,0),u()}}else o=function(){setTimeout(t,0)};return X}(),G=Function.call,V=t(Array.prototype.slice),K=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(e=t(e,this[n],n));return e}),Q=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),Y=t(Array.prototype.map||function(t,e){var n=this,r=[];return K(n,function(i,o,s){r.push(t.call(e,o,s,n))},void 0),r}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},te=t(Object.prototype.hasOwnProperty),ee=Object.keys||function(t){var e=[];for(var n in t)te(t,n)&&e.push(n);return e},ne=t(Object.prototype.toString);F="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var re="From previous event:";f.resolve=f,f.nextTick=X,f.longStackSupport=!1,f.defer=p,p.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):t.resolve(arguments.length>2?V(arguments,1):n)}},f.Promise=h,f.promise=h,h.race=d,h.all=M,h.reject=E,h.resolve=f,f.passByCopy=function(t){return t},v.prototype.passByCopy=function(){return this},f.join=function(t,e){return f(t).join(e)},v.prototype.join=function(t){return f([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},f.race=d,v.prototype.race=function(){return this.then(f.race)},f.makePromise=v,v.prototype.toString=function(){return"[object Promise]"},v.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(n){return E(n)}}function o(t){if("function"==typeof e){i(t,a);try{return e(t)}catch(n){return E(n)}}return E(t)}function s(t){return"function"==typeof n?n(t):t}var a=this,u=p(),c=!1;return X(function(){a.promiseDispatch(function(t){c||(c=!0,u.resolve(r(t)))},"when",[function(t){c||(c=!0,u.resolve(o(t)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=s(t)}catch(r){if(n=!0,!f.onerror)throw r;f.onerror(r)}n||u.notify(e)}]),u.promise},f.when=y,v.prototype.thenResolve=function(t){return this.then(function(){return t})},f.thenResolve=function(t,e){return f(t).thenResolve(e)},v.prototype.thenReject=function(t){return this.then(function(){throw t})},f.thenReject=function(t,e){return f(t).thenReject(e)},f.nearer=m,f.isPromise=g,f.isPromiseAlike=b,f.isPending=_,v.prototype.isPending=function(){return"pending"===this.inspect().state},f.isFulfilled=w,v.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},f.isRejected=x,v.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],oe=[],se=!0;f.resetUnhandledRejections=k,f.getUnhandledReasons=function(){return ie.slice()},f.stopUnhandledRejectionTracking=function(){k(),se=!1},k(),f.reject=E,f.fulfill=A,f.master=O,f.spread=C,v.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},f.async=I,f.spawn=R,f["return"]=q,f.promised=N,f.dispatch=P,v.prototype.dispatch=function(t,e){var n=this,r=p();return X(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},f.get=function(t,e){return f(t).dispatch("get",[e])},v.prototype.get=function(t){return this.dispatch("get",[t])},f.set=function(t,e,n){return f(t).dispatch("set",[e,n])},v.prototype.set=function(t,e){return this.dispatch("set",[t,e])},f.del=f["delete"]=function(t,e){return f(t).dispatch("delete",[e])},v.prototype.del=v.prototype["delete"]=function(t){return this.dispatch("delete",[t])},f.mapply=f.post=function(t,e,n){return f(t).dispatch("post",[e,n])},v.prototype.mapply=v.prototype.post=function(t,e){return this.dispatch("post",[t,e])},f.send=f.mcall=f.invoke=function(t,e){return f(t).dispatch("post",[e,V(arguments,2)])},v.prototype.send=v.prototype.mcall=v.prototype.invoke=function(t){return this.dispatch("post",[t,V(arguments,1)])},f.fapply=function(t,e){return f(t).dispatch("apply",[void 0,e])},v.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},f["try"]=f.fcall=function(t){return f(t).dispatch("apply",[void 0,V(arguments,1)])},v.prototype.fcall=function(){return this.dispatch("apply",[void 0,V(arguments)])},f.fbind=function(t){var e=f(t),n=V(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(V(arguments))])}},v.prototype.fbind=function(){var t=this,e=V(arguments);return function(){return t.dispatch("apply",[this,e.concat(V(arguments))])}},f.keys=function(t){return f(t).dispatch("keys",[])},v.prototype.keys=function(){return this.dispatch("keys",[])},f.all=M,v.prototype.all=function(){return M(this)},f.allResolved=l(H,"allResolved","allSettled"),v.prototype.allResolved=function(){return H(this)},f.allSettled=$,v.prototype.allSettled=function(){return this.then(function(t){return M(Y(t,function(t){function e(){return t.inspect()}return t=f(t),t.then(e,e)}))})},f.fail=f["catch"]=function(t,e){return f(t).then(void 0,e)},v.prototype.fail=v.prototype["catch"]=function(t){return this.then(void 0,t)},f.progress=U,v.prototype.progress=function(t){return this.then(void 0,void 0,t)},f.fin=f["finally"]=function(t,e){return f(t)["finally"](e)},v.prototype.fin=v.prototype["finally"]=function(t){return t=f(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},f.done=function(t,e,n,r){return f(t).done(e,n,r)},v.prototype.done=function(t,n,r){var o=function(t){X(function(){if(i(t,s),!f.onerror)throw t;f.onerror(t)})},s=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),s.then(void 0,o)},f.timeout=function(t,e,n){return f(t).timeout(e,n)},v.prototype.timeout=function(t,e){var n=p(),r=setTimeout(function(){n.reject(new Error(e||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},f.delay=function(t,e){return void 0===e&&(e=t,t=void 0),f(t).delay(e)},v.prototype.delay=function(t){return this.then(function(e){var n=p();return setTimeout(function(){n.resolve(e)},t),n.promise})},f.nfapply=function(t,e){return f(t).nfapply(e)},v.prototype.nfapply=function(t){var e=p(),n=V(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},f.nfcall=function(t){var e=V(arguments,1);return f(t).nfapply(e)},v.prototype.nfcall=function(){var t=V(arguments),e=p();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},f.nfbind=f.denodeify=function(t){var e=V(arguments,1);return function(){var n=e.concat(V(arguments)),r=p();return n.push(r.makeNodeResolver()),f(t).fapply(n).fail(r.reject),r.promise}},v.prototype.nfbind=v.prototype.denodeify=function(){var t=V(arguments);return t.unshift(this),f.denodeify.apply(void 0,t)},f.nbind=function(t,e){var n=V(arguments,2);return function(){function r(){return t.apply(e,arguments)}var i=n.concat(V(arguments)),o=p();return i.push(o.makeNodeResolver()),f(r).fapply(i).fail(o.reject),o.promise}},v.prototype.nbind=function(){var t=V(arguments,0);return t.unshift(this),f.nbind.apply(void 0,t)},f.nmapply=f.npost=function(t,e,n){return f(t).npost(e,n)},v.prototype.nmapply=v.prototype.npost=function(t,e){var n=V(e||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},f.nsend=f.nmcall=f.ninvoke=function(t,e){var n=V(arguments,2),r=p();return n.push(r.makeNodeResolver()),f(t).dispatch("post",[e,n]).fail(r.reject),r.promise},v.prototype.nsend=v.prototype.nmcall=v.prototype.ninvoke=function(t){var e=V(arguments,1),n=p();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},f.nodeify=D,v.prototype.nodeify=function(t){return t?void this.then(function(e){X(function(){t(null,e)})},function(e){X(function(){t(e)})}):this};var ae=c();return f})}).call(this,e("FWaASH"))},{FWaASH:86}],82:[function(t,e){function n(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(){if(y.XMLHttpRequest&&("file:"!=y.location.protocol||!y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function o(t){return t===Object(t)}function s(t){if(!o(t))return t;var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function a(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;s>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function u(t){var e,n,r,i,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,u=o.length;u>a;++a)n=o[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=m(n.slice(e+1)),s[r]=i;return s}function c(t){return t.split(/ *; */).shift()}function l(t){return v(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function f(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body=this.parseBody(this.text)}function p(t,e){var n=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new f(n);"HEAD"==t&&(e.text=null),n.callback(null,e)})}function h(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var d=t("emitter"),v=t("reduce"),y="undefined"==typeof window?this:window,m="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=s,h.parseString=a,h.types={html:"text/html",json:"application/json",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},f.prototype.get=function(t){return this.header[t.toLowerCase()]},f.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=c(t);var e=l(t);for(var n in e)this[n]=e[n]},f.prototype.parseBody=function(t){var e=h.parse[this.type];return e?e(t):null},f.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.path,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.path=n,i},h.Response=f,d(p.prototype),p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},p.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(n||this.type("json"),this):this},p.prototype.callback=function(t,e){var n=this._callback;return 2==n.length?n(t,e):t?this.emit("error",t):void n(e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,o=this.xhr=i(),s=this._query.join("&"),a=this._timeout,u=this._data;if(this._callback=t||n,this._withCredentials&&(o.withCredentials=!0),o.onreadystatechange=function(){return 4==o.readyState?0==o.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},o.upload&&(o.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),s&&(s=h.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),o.open(this.method,this.url,!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!r(u)){var c=h.serialize[this.getHeader("Content-Type")];c&&(u=c(u))}for(var l in this.header)null!=this.header[l]&&o.setRequestHeader(l,this.header[l]);return o.send(u),this},h.Request=p,h.get=function(t,e,n){var r=h("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},h.head=function(t,e,n){var r=h("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.del=function(t,e){var n=h("DELETE",t);return e&&n.end(e),n},h.patch=function(t,e,n){var r=h("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.post=function(t,e,n){var r=h("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.put=function(t,e,n){var r=h("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=h},{emitter:83,reduce:84}],83:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var r=n.indexOf(e._off||e);return~r&&n.splice(r,1),this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],84:[function(t,e){e.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},{}],85:[function(e,n,r){!function(n,i){if("function"==typeof t&&t.amd)t(["underscore","jquery","exports"],function(t,e,r){n.Backbone=i(n,r,t,e)});else if("undefined"!=typeof r){var o=e("lodash");i(n,r,o)}else n.Backbone=i(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$)}(this,function(t,e,n,r){{var i=t.Backbone,o=[],s=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var i=this,o=n.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var i,o,s,a,u,l,f,p;if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(a=t?[t]:n.keys(this._events),u=0,l=a.length;l>u;u++)if(t=a[u],s=this._events[t]){if(this._events[t]=i=[],e||r)for(f=0,p=s.length;p>f;f++)o=s[f],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(n,e),r&&l(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var o=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var s in i)t=i[s],t.off(e,r,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},u=/\s+/,c=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},l=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},f={listenTo:"on",listenToOnce:"once"};n.each(f,function(t,e){a[e]=function(e,r,i){var o=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return o[s]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var p=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,o,s,a,u,c,l,f;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;s=r.unset,u=r.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(f[i],e)||a.push(i),n.isEqual(l[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete f[i]:f[i]=e;if(!u){a.length&&(this._pending=r);for(var p=0,h=a.length;h>p;p++)this.trigger("change:"+a[p],this,f[a[p]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},H(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,s,a=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},a,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(t){u.attributes=a;var e=u.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(c&&c(u,t,r),void u.trigger("sync",u,t,r))},H(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),s=this.sync(o,this,r),i&&r.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;H(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||M();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(t){p.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(d.prototype,a,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,y))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,o,s,a;for(i=0,o=t.length;o>i;i++)a=t[i]=this.get(t[i]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,v),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,o,s,a,u,c,l,f=e.at,h=this.model,d=this.comparator&&null==f&&e.sort!==!1,y=n.isString(this.comparator)?this.comparator:null,m=[],g=[],b={},_=e.add,w=e.merge,x=e.remove,k=!d&&_&&x?[]:!1;for(i=0,o=t.length;o>i;i++){if(u=t[i]||{},s=u instanceof p?a=u:u[h.prototype.idAttribute||"id"],c=this.get(s))x&&(b[c.cid]=!0),w&&(u=u===a?a.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),d&&!l&&c.hasChanged(y)&&(l=!0)),t[i]=c;else if(_){if(a=t[i]=this._prepareModel(u,e),!a)continue;m.push(a),this._addReference(a,e)}a=c||a,!k||!a.isNew()&&b[a.id]||k.push(a),b[a.id]=!0}if(x){for(i=0,o=this.length;o>i;++i)b[(a=this.models[i]).cid]||g.push(a);g.length&&this.remove(g,e)}if(m.length||k&&k.length)if(d&&(l=!0),this.length+=m.length,null!=f)for(i=0,o=m.length;o>i;i++)this.models.splice(f+i,0,m[i]);else{k&&(this.models.length=0);var j=k||m;for(i=0,o=j.length;o>i;i++)this.models.push(j[i])}if(l&&this.sort({silent:!0}),!e.silent){for(i=0,o=m.length;o>i;i++)(a=m[i]).trigger("add",a,this,e);(l||k&&k.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)
},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(m,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var g=["groupBy","countBy","sortBy","indexBy"];n.each(g,function(t){d.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var b=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(_),o=i[1],s=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,r):this.$el.on(o,s,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var o=k[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||M()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&x&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var j=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,A=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(j.prototype,a,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(i,s),o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(S,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,R=/msie [\w.]+/,q=/\/$/,N=/#.*$/;O.started=!1,n.extend(O.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(q,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(C,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=R.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(I,"/"),o&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!O.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(N,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new O;var P=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};p.extend=d.extend=j.extend=b.extend=O.extend=P;var M=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e})},{lodash:90}],86:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],87:[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,p,h,d,v=t[l].replace(a,"%20"),y=v.indexOf(i);y>=0?(f=v.substr(0,y),p=v.substr(y+1)):(f=v,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),n(s,h)?r(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],88:[function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?n(o(t),function(o){var a=encodeURIComponent(r(o))+s;return i(t[o])?n(t[o],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[o]))}).join(e):a?encodeURIComponent(r(a))+s+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],89:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":87,"./encode":88}],90:[function(e,n,r){(function(e){(function(){function i(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function o(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e;return t=(t=t[n])&&t[r],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function s(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:w+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function a(t){return t.charCodeAt(0)}function u(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return t.index-e.index}function c(t){var e=-1,n=t.length,r=t[0],i=t[n/2|0],o=t[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var a=p();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=p();for(u.array=t,u.cache=a,u.push=s;++e<n;)u.push(t[e]);return u}function l(t){return"\\"+Q[t]}function f(){return g.pop()||[]}function p(){return b.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function h(t){t.length=0,g.length<k&&g.push(t)}function d(t){var e=t.cache;e&&d(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,b.length<k&&b.push(t)}function v(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function y(t){function e(t){return t&&"object"==typeof t&&!Yr(t)&&Nr.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(r){var t=v(r);Pr.apply(t,arguments)}if(this instanceof e){var o=g(n.prototype),s=n.apply(o,t||arguments);return Ce(s)?s:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return Qr(e,t),e}function s(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var a=Ce(t);if(!a)return t;var u=Ar.call(t);if(!X[u])return t;var c=Vr[u];switch(u){case D:case L:return new c(+t);case B:case W:return new c(t);case J:return o=c(t.source,O.exec(t)),o.lastIndex=t.lastIndex,o}var l=Yr(t);if(e){var p=!r;r||(r=f()),i||(i=f());for(var d=r.length;d--;)if(r[d]==t)return i[d];o=l?c(t.length):{}}else o=l?v(t):oi({},t);return l&&(Nr.call(t,"index")&&(o.index=t.index),Nr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(l?Ke:ui)(t,function(t,a){o[a]=s(t,e,n,r,i)}),p&&(h(r),h(i)),o):o}function g(t){return Ce(t)?Dr(t):{}}function b(t,e,n){if("function"!=typeof t)return Yn;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(Kr.funcNames&&(r=!t.name),r=r||!Kr.funcDecomp,!r)){var i=Rr.call(t);Kr.funcNames||(r=!C.test(i)),r||(r=N.test(i),Qr(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Pn(t,e)}function k(t){function e(){var t=u?s:this;if(i){var h=v(i);Pr.apply(h,arguments)}if((o||l)&&(h||(h=v(arguments)),o&&Pr.apply(h,o),l&&h.length<a))return r|=16,k([n,f?r:-4&r,h,null,s,a]);if(h||(h=arguments),c&&(n=t[p]),this instanceof e){t=g(n.prototype);var d=n.apply(t,h);return Ce(d)?d:t}return n.apply(t,h)}var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=1&r,c=2&r,l=4&r,f=8&r,p=n;return Qr(e,t),e}function Q(t,e){var n=-1,r=ue(),s=t?t.length:0,a=s>=x&&r===i,u=[];if(a){var l=c(e);l?(r=o,e=l):a=!1}for(;++n<s;){var f=t[n];r(e,f)<0&&u.push(f)}return a&&d(e),u}function Z(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,s=[];++i<o;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Yr(a)||pe(a))){e||(a=Z(a,e,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function te(t,e,n,r,i,o){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var a=typeof t,u=typeof e;if(!(t!==t||t&&K[a]||e&&K[u]))return!1;if(null==t||null==e)return t===e;var c=Ar.call(t),l=Ar.call(e);if(c==$&&(c=F),l==$&&(l=F),c!=l)return!1;switch(c){case D:case L:return+t==+e;case B:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case J:case W:return t==xr(e)}var p=c==U;if(!p){var d=Nr.call(t,"__wrapped__"),v=Nr.call(e,"__wrapped__");if(d||v)return te(d?t.__wrapped__:t,v?e.__wrapped__:e,n,r,i,o);if(c!=F)return!1;var y=t.constructor,m=e.constructor;if(y!=m&&!(Oe(y)&&y instanceof y&&Oe(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}var g=!i;i||(i=f()),o||(o=f());for(var b=i.length;b--;)if(i[b]==t)return o[b]==e;var _=0;if(s=!0,i.push(t),o.push(e),p){if(b=t.length,_=e.length,s=_==b,s||r)for(;_--;){var w=b,x=e[_];if(r)for(;w--&&!(s=te(t[w],x,n,r,i,o)););else if(!(s=te(t[_],x,n,r,i,o)))break}}else ai(e,function(e,a,u){return Nr.call(u,a)?(_++,s=Nr.call(t,a)&&te(t[a],e,n,r,i,o)):void 0}),s&&!r&&ai(t,function(t,e,n){return Nr.call(n,e)?s=--_>-1:void 0});return i.pop(),o.pop(),g&&(h(i),h(o)),s}function ee(t,e,n,r,i){(Yr(e)?Ke:ui)(e,function(e,o){var s,a,u=e,c=t[o];if(e&&((a=Yr(e))||ci(e))){for(var l=r.length;l--;)if(s=r[l]==e){c=i[l];break}if(!s){var f;n&&(u=n(c,e),(f="undefined"!=typeof u)&&(c=u)),f||(c=a?Yr(c)?c:[]:ci(c)?c:{}),r.push(e),i.push(c),f||ee(c,e,n,r,i)}}else n&&(u=n(c,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(c=u);t[o]=c})}function ne(t,e){return t+Ir(Gr()*(e-t+1))}function ie(t,e,n){var r=-1,s=ue(),a=t?t.length:0,u=[],l=!e&&a>=x&&s===i,p=n||l?f():u;if(l){var v=c(p);s=o,p=v}for(;++r<a;){var y=t[r],m=n?n(y,r,t):y;(e?!r||p[p.length-1]!==m:s(p,m)<0)&&((n||l)&&p.push(m),u.push(y))}return l?(h(p.array),d(p)):n&&h(p),u}function oe(t){return function(n,r,i){var o={};r=e.createCallback(r,i,3);var s=-1,a=n?n.length:0;if("number"==typeof a)for(;++s<a;){var u=n[s];t(o,u,r(u,s,n),n)}else ui(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function se(t,e,n,i,o,s){var a=1&e,u=2&e,c=4&e,l=16&e,f=32&e;if(!u&&!Oe(t))throw new kr;l&&!n.length&&(e&=-17,l=n=!1),f&&!i.length&&(e&=-33,f=i=!1);var p=t&&t.__bindData__;if(p&&p!==!0)return p=v(p),p[2]&&(p[2]=v(p[2])),p[3]&&(p[3]=v(p[3])),!a||1&p[1]||(p[4]=o),!a&&1&p[1]&&(e|=8),!c||4&p[1]||(p[5]=s),l&&Pr.apply(p[2]||(p[2]=[]),n),f&&$r.apply(p[3]||(p[3]=[]),i),p[1]|=e,se.apply(null,p);var h=1==e||17===e?r:k;return h([t,e,n,i,o,s])}function ae(t){return ei[t]}function ue(){var t=(t=e.indexOf)===gn?i:t;return t}function ce(t){return"function"==typeof t&&Tr.test(t)}function le(t){var e,n;return t&&Ar.call(t)==F&&(e=t.constructor,!Oe(e)||e instanceof e)?(ai(t,function(t,e){n=e}),"undefined"==typeof n||Nr.call(t,n)):!1}function fe(t){return ni[t]}function pe(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ar.call(t)==$||!1}function he(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),s(t,e,"function"==typeof n&&b(n,r,1))}function de(t,e,n){return s(t,!0,"function"==typeof e&&b(e,n,1))}function ve(t,e){var n=g(t);return e?oi(n,e):n}function ye(t,n,r){var i;return n=e.createCallback(n,r,3),ui(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function me(t,n,r){var i;return n=e.createCallback(n,r,3),be(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function ge(t,e,n){var r=[];ai(t,function(t,e){r.push(e,t)});var i=r.length;for(e=b(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function be(t,e,n){var r=ti(t),i=r.length;for(e=b(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function _e(t){var e=[];return ai(t,function(t,n){Oe(t)&&e.push(n)}),e.sort()}function we(t,e){return t?Nr.call(t,e):!1}function xe(t){for(var e=-1,n=ti(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function ke(t){return t===!0||t===!1||t&&"object"==typeof t&&Ar.call(t)==D||!1}function je(t){return t&&"object"==typeof t&&Ar.call(t)==L||!1}function Se(t){return t&&1===t.nodeType||!1}function Ee(t){var e=!0;if(!t)return e;var n=Ar.call(t),r=t.length;return n==U||n==W||n==$||n==F&&"number"==typeof r&&Oe(t.splice)?!r:(ui(t,function(){return e=!1}),e)}function Ae(t,e,n,r){return te(t,e,"function"==typeof n&&b(n,r,2))}function Te(t){return zr(t)&&!Br(parseFloat(t))}function Oe(t){return"function"==typeof t}function Ce(t){return!(!t||!K[typeof t])}function Ie(t){return qe(t)&&t!=+t}function Re(t){return null===t}function qe(t){return"number"==typeof t||t&&"object"==typeof t&&Ar.call(t)==B||!1}function Ne(t){return t&&"object"==typeof t&&Ar.call(t)==J||!1}function Pe(t){return"string"==typeof t||t&&"object"==typeof t&&Ar.call(t)==W||!1}function Me(t){return"undefined"==typeof t}function He(t,n,r){var i={};return n=e.createCallback(n,r,3),ui(t,function(t,e,r){i[e]=n(t,e,r)}),i}function $e(t){var e=arguments,n=2;if(!Ce(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=b(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=v(arguments,1,n),o=-1,s=f(),a=f();++o<n;)ee(t,i[o],r,s,a);return h(s),h(a),t}function Ue(t,n,r){var i={};if("function"!=typeof n){var o=[];ai(t,function(t,e){o.push(e)}),o=Q(o,Z(arguments,!0,!1,1));for(var s=-1,a=o.length;++s<a;){var u=o[s];i[u]=t[u]}}else n=e.createCallback(n,r,3),ai(t,function(t,e,r){n(t,e,r)||(i[e]=t)});return i}function De(t){for(var e=-1,n=ti(t),r=n.length,i=dr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Le(t,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=Z(arguments,!0,!1,1),a=Ce(t)?s.length:0;++o<a;){var u=s[o];u in t&&(i[u]=t[u])}else n=e.createCallback(n,r,3),ai(t,function(t,e,r){n(t,e,r)&&(i[e]=t)});return i}function ze(t,n,r,i){var o=Yr(t);if(null==r)if(o)r=[];else{var s=t&&t.constructor,a=s&&s.prototype;r=g(a)}return n&&(n=e.createCallback(n,i,4),(o?Ke:ui)(t,function(t,e,i){return n(r,t,e,i)})),r}function Be(t){for(var e=-1,n=ti(t),r=n.length,i=dr(r);++e<r;)i[e]=t[n[e]];return i}function Fe(t){for(var e=arguments,n=-1,r=Z(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=dr(i);++n<i;)o[n]=t[r[n]];return o}function Je(t,e,n){var r=-1,i=ue(),o=t?t.length:0,s=!1;return n=(0>n?Jr(0,o+n):n)||0,Yr(t)?s=i(t,e,n)>-1:"number"==typeof o?s=(Pe(t)?t.indexOf(e,n):i(t,e,n))>-1:ui(t,function(t){return++r>=n?!(s=t===e):void 0}),s}function We(t,n,r){var i=!0;n=e.createCallback(n,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&(i=!!n(t[o],o,t)););else ui(t,function(t,e,r){return i=!!n(t,e,r)});return i}function Xe(t,n,r){var i=[];n=e.createCallback(n,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var a=t[o];n(a,o,t)&&i.push(a)}else ui(t,function(t,e,r){n(t,e,r)&&i.push(t)});return i}function Ge(t,n,r){n=e.createCallback(n,r,3);var i=-1,o=t?t.length:0;if("number"!=typeof o){var s;return ui(t,function(t,e,r){return n(t,e,r)?(s=t,!1):void 0}),s}for(;++i<o;){var a=t[i];if(n(a,i,t))return a}}function Ve(t,n,r){var i;return n=e.createCallback(n,r,3),Qe(t,function(t,e,r){return n(t,e,r)?(i=t,!1):void 0}),i}function Ke(t,e,n){var r=-1,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:b(e,n,3),"number"==typeof i)for(;++r<i&&e(t[r],r,t)!==!1;);else ui(t,e);return t}function Qe(t,e,n){var r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:b(e,n,3),"number"==typeof r)for(;r--&&e(t[r],r,t)!==!1;);else{var i=ti(t);r=i.length,ui(t,function(t,n,o){return n=i?i[--r]:--r,e(o[n],n,o)})}return t}function Ye(t,e){var n=v(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,s=dr("number"==typeof o?o:0);return Ke(t,function(t){s[++r]=(i?e:t[e]).apply(t,n)}),s}function Ze(t,n,r){var i=-1,o=t?t.length:0;if(n=e.createCallback(n,r,3),"number"==typeof o)for(var s=dr(o);++i<o;)s[i]=n(t[i],i,t);else s=[],ui(t,function(t,e,r){s[++i]=n(t,e,r)});return s}function tn(t,n,r){var i=-1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&Yr(t))for(var s=-1,u=t.length;++s<u;){var c=t[s];c>o&&(o=c)}else n=null==n&&Pe(t)?a:e.createCallback(n,r,3),Ke(t,function(t,e,r){var s=n(t,e,r);s>i&&(i=s,o=t)});return o}function en(t,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&Yr(t))for(var s=-1,u=t.length;++s<u;){var c=t[s];o>c&&(o=c)}else n=null==n&&Pe(t)?a:e.createCallback(n,r,3),Ke(t,function(t,e,r){var s=n(t,e,r);i>s&&(i=s,o=t)});return o}function nn(t,n,r,i){if(!t)return r;var o=arguments.length<3;n=e.createCallback(n,i,4);var s=-1,a=t.length;if("number"==typeof a)for(o&&(r=t[++s]);++s<a;)r=n(r,t[s],s,t);else ui(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)});return r}function rn(t,n,r,i){var o=arguments.length<3;return n=e.createCallback(n,i,4),Qe(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)}),r}function on(t,n,r){return n=e.createCallback(n,r,3),Xe(t,function(t,e,r){return!n(t,e,r)})}function sn(t,e,n){if(t&&"number"!=typeof t.length&&(t=Be(t)),null==e||n)return t?t[ne(0,t.length-1)]:m;var r=an(t);return r.length=Wr(Jr(0,e),r.length),r}function an(t){var e=-1,n=t?t.length:0,r=dr("number"==typeof n?n:0);return Ke(t,function(t){var n=ne(0,++e);r[e]=r[n],r[n]=t}),r}function un(t){var e=t?t.length:0;return"number"==typeof e?e:ti(t).length}function cn(t,n,r){var i;n=e.createCallback(n,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&!(i=n(t[o],o,t)););else ui(t,function(t,e,r){return!(i=n(t,e,r))});return!!i}function ln(t,n,r){var i=-1,o=Yr(n),s=t?t.length:0,a=dr("number"==typeof s?s:0);for(o||(n=e.createCallback(n,r,3)),Ke(t,function(t,e,r){var s=a[++i]=p();o?s.criteria=Ze(n,function(e){return t[e]}):(s.criteria=f())[0]=n(t,e,r),s.index=i,s.value=t}),s=a.length,a.sort(u);s--;){var c=a[s];a[s]=c.value,o||h(c.criteria),d(c)}return a}function fn(t){return t&&"number"==typeof t.length?v(t):Be(t)}function pn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function hn(t){return Q(t,Z(arguments,!0,!0,1))}function dn(t,n,r){var i=-1,o=t?t.length:0;for(n=e.createCallback(n,r,3);++i<o;)if(n(t[i],i,t))return i;return-1}function vn(t,n,r){var i=t?t.length:0;for(n=e.createCallback(n,r,3);i--;)if(n(t[i],i,t))return i;return-1}function yn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=e.createCallback(n,r,3);++s<o&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t?t[0]:m;return v(t,0,Wr(Jr(0,i),o))}function mn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=Ze(t,n,r)),Z(t,e)}function gn(t,e,n){if("number"==typeof n){var r=t?t.length:0;n=0>n?Jr(0,r+n):n||0}else if(n){var o=An(t,e);return t[o]===e?o:-1}return i(t,e,n)}function bn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)i++}else i=null==n||r?1:n||i;return v(t,0,Wr(Jr(0,o-i),o))}function _n(){for(var t=[],e=-1,n=arguments.length,r=f(),s=ue(),a=s===i,u=f();++e<n;){var l=arguments[e];(Yr(l)||pe(l))&&(t.push(l),r.push(a&&l.length>=x&&c(e?t[e]:u)))}var p=t[0],v=-1,y=p?p.length:0,m=[];t:for(;++v<y;){var g=r[0];if(l=p[v],(g?o(g,l):s(u,l))<0){for(e=n,(g||u).push(l);--e;)if(g=r[e],(g?o(g,l):s(t[e],l))<0)continue t;m.push(l)}}for(;n--;)g=r[n],g&&d(g);return h(r),h(u),m}function wn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t?t[o-1]:m;return v(t,Jr(0,o-i))}function xn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?Jr(0,r+n):Wr(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function kn(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,s=e[n];++o<i;)t[o]===s&&(Hr.call(t,o--,1),i--);return t}function jn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=Jr(0,Or((e-t)/(n||1))),o=dr(i);++r<i;)o[r]=t,t+=n;return o}function Sn(t,n,r){var i=-1,o=t?t.length:0,s=[];for(n=e.createCallback(n,r,3);++i<o;){var a=t[i];n(a,i,t)&&(s.push(a),Hr.call(t,i--,1),o--)}return s}function En(t,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=t?t.length:0;for(n=e.createCallback(n,r,3);++o<s&&n(t[o],o,t);)i++}else i=null==n||r?1:Jr(0,n);return v(t,i)}function An(t,n,r,i){var o=0,s=t?t.length:o;for(r=r?e.createCallback(r,i,1):Yn,n=r(n);s>o;){var a=o+s>>>1;r(t[a])<n?o=a+1:s=a}return o}function Tn(){return ie(Z(arguments,!0,!0))}function On(t,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===t?null:n,n=!1),null!=r&&(r=e.createCallback(r,i,3)),ie(t,n,r)}function Cn(t){return Q(t,v(arguments,1))}function In(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Yr(n)||pe(n))var r=r?ie(Q(r,n).concat(Q(n,r))):n}return r||[]}function Rn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?tn(hi(t,"length")):0,r=dr(0>n?0:n);++e<n;)r[e]=hi(t,e);return r}function qn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||Yr(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Nn(t,e){if(!Oe(e))throw new kr;return function(){return--t<1?e.apply(this,arguments):void 0}}function Pn(t,e){return arguments.length>2?se(t,17,v(arguments,2),null,e):se(t,1,null,null,e)}function Mn(t){for(var e=arguments.length>1?Z(arguments,!0,!1,1):_e(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=se(t[i],1,null,null,t)}return t}function Hn(t,e){return arguments.length>2?se(e,19,v(arguments,2),null,t):se(e,3,null,null,t)}function $n(){for(var t=arguments,e=t.length;e--;)if(!Oe(t[e]))throw new kr;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Un(t,e){return e="number"==typeof e?e:+e||t.length,se(t,4,null,null,null,e)}function Dn(t,e,n){var r,i,o,s,a,u,c,l=0,f=!1,p=!0;if(!Oe(t))throw new kr;if(e=Jr(0,e)||0,n===!0){var h=!0;p=!1}else Ce(n)&&(h=n.leading,f="maxWait"in n&&(Jr(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var d=function(){var n=e-(vi()-s);if(0>=n){i&&Cr(i);var f=c;i=u=c=m,f&&(l=vi(),o=t.apply(a,r),u||i||(r=a=null))}else u=Mr(d,n)},v=function(){u&&Cr(u),i=u=c=m,(p||f!==e)&&(l=vi(),o=t.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=vi(),a=this,c=p&&(u||!h),f===!1)var n=h&&!u;else{i||h||(l=s);var y=f-(s-l),m=0>=y;m?(i&&(i=Cr(i)),l=s,o=t.apply(a,r)):i||(i=Mr(v,y))}return m&&u?u=Cr(u):u||e===f||(u=Mr(d,e)),n&&(m=!0,o=t.apply(a,r)),!m||u||i||(r=a=null),o}}function Ln(t){if(!Oe(t))throw new kr;var e=v(arguments,1);return Mr(function(){t.apply(m,e)},1)}function zn(t,e){if(!Oe(t))throw new kr;var n=v(arguments,2);return Mr(function(){t.apply(m,n)},e)}function Bn(t,e){if(!Oe(t))throw new kr;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):w+arguments[0];return Nr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Fn(t){var e,n;if(!Oe(t))throw new kr;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Jn(t){return se(t,16,v(arguments,1))}function Wn(t){return se(t,32,null,v(arguments,1))}function Xn(t,e,n){var r=!0,i=!0;if(!Oe(t))throw new kr;return n===!1?r=!1:Ce(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),G.leading=r,G.maxWait=e,G.trailing=i,Dn(t,e,G)}function Gn(t,e){return se(e,16,[t])}function Vn(t){return function(){return t}}function Kn(t,e,n){var r=typeof t;if(null==t||"function"==r)return b(t,e,n);if("object"!=r)return nr(t);var i=ti(t),o=i[0],s=t[o];return 1!=i.length||s!==s||Ce(s)?function(e){for(var n=i.length,r=!1;n--&&(r=te(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function Qn(t){return null==t?"":xr(t).replace(ii,ae)}function Yn(t){return t}function Zn(t,r,i){var o=!0,s=r&&_e(r);r&&(i||s.length)||(null==i&&(i=r),a=n,r=t,t=e,s=_e(r)),i===!1?o=!1:Ce(i)&&"chain"in i&&(o=i.chain);var a=t,u=Oe(a);Ke(s,function(e){var n=t[e]=r[e];u&&(a.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=[r];Pr.apply(i,arguments);var s=n.apply(t,i);if(o||e){if(r===s&&Ce(s))return this;s=new a(s),s.__chain__=e}return s})})}function tr(){return t._=Er,this}function er(){}function nr(t){return function(e){return e[t]}}function rr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Gr();return Wr(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ne(t,e)}function ir(t,e){if(t){var n=t[e];return Oe(n)?t[e]():n}}function or(t,n,r){var i=e.templateSettings;t=xr(t||""),r=si({},r,i);var o,s=si({},r.imports,i.imports),a=ti(s),u=Be(s),c=0,f=r.interpolate||q,p="__p += '",h=wr((r.escape||q).source+"|"+f.source+"|"+(f===I?T:q).source+"|"+(r.evaluate||q).source+"|$","g");t.replace(h,function(e,n,r,i,s,a){return r||(r=i),p+=t.slice(c,a).replace(P,l),n&&(p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+e.length,e}),p+="';\n";var d=r.variable,v=d;v||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(o?p.replace(S,""):p).replace(E,"$1").replace(A,"$1;"),p="function("+d+") {\n"+(v?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+H++ +"]")+"\n*/";try{var g=mr(a,"return "+p+y).apply(m,u)}catch(b){throw b.source=p,b}return n?g(n):(g.source=p,g)}function sr(t,e,n){t=(t=+t)>-1?t:0;
var r=-1,i=dr(t);for(e=b(e,n,1);++r<t;)i[r]=e(r);return i}function ar(t){return null==t?"":xr(t).replace(ri,fe)}function ur(t){var e=++_;return xr(null==t?"":t)+e}function cr(t){return t=new n(t),t.__chain__=!0,t}function lr(t,e){return e(t),t}function fr(){return this.__chain__=!0,this}function pr(){return xr(this.__wrapped__)}function hr(){return this.__wrapped__}t=t?re.defaults(Y.Object(),t,re.pick(Y,M)):Y;var dr=t.Array,vr=t.Boolean,yr=t.Date,mr=t.Function,gr=t.Math,br=t.Number,_r=t.Object,wr=t.RegExp,xr=t.String,kr=t.TypeError,jr=[],Sr=_r.prototype,Er=t._,Ar=Sr.toString,Tr=wr("^"+xr(Ar).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Or=gr.ceil,Cr=t.clearTimeout,Ir=gr.floor,Rr=mr.prototype.toString,qr=ce(qr=_r.getPrototypeOf)&&qr,Nr=Sr.hasOwnProperty,Pr=jr.push,Mr=t.setTimeout,Hr=jr.splice,$r=jr.unshift,Ur=function(){try{var t={},e=ce(e=_r.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Dr=ce(Dr=_r.create)&&Dr,Lr=ce(Lr=dr.isArray)&&Lr,zr=t.isFinite,Br=t.isNaN,Fr=ce(Fr=_r.keys)&&Fr,Jr=gr.max,Wr=gr.min,Xr=t.parseInt,Gr=gr.random,Vr={};Vr[U]=dr,Vr[D]=vr,Vr[L]=yr,Vr[z]=mr,Vr[F]=_r,Vr[B]=br,Vr[J]=wr,Vr[W]=xr,n.prototype=e.prototype;var Kr=e.support={};Kr.funcDecomp=!ce(t.WinRTError)&&N.test(y),Kr.funcNames="string"==typeof mr.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:e}},Dr||(g=function(){function e(){}return function(n){if(Ce(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var Qr=Ur?function(t,e){V.value=e,Ur(t,"__bindData__",V)}:er,Yr=Lr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ar.call(t)==U||!1},Zr=function(t){var e,n=t,r=[];if(!n)return r;if(!K[typeof t])return r;for(e in n)Nr.call(n,e)&&r.push(e);return r},ti=Fr?function(t){return Ce(t)?Fr(t):[]}:Zr,ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=xe(ei),ri=wr("("+ti(ni).join("|")+")","g"),ii=wr("["+ti(ei).join("")+"]","g"),oi=function(t,e,n){var r,i=t,o=i;if(!i)return o;var s=arguments,a=0,u="number"==typeof n?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=b(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++a<u;)if(i=s[a],i&&K[typeof i])for(var l=-1,f=K[typeof i]&&ti(i),p=f?f.length:0;++l<p;)r=f[l],o[r]=c?c(o[r],i[r]):i[r];return o},si=function(t,e,n){var r,i=t,o=i;if(!i)return o;for(var s=arguments,a=0,u="number"==typeof n?2:s.length;++a<u;)if(i=s[a],i&&K[typeof i])for(var c=-1,l=K[typeof i]&&ti(i),f=l?l.length:0;++c<f;)r=l[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ai=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!K[typeof i])return o;e=e&&"undefined"==typeof n?e:b(e,n,3);for(r in i)if(e(i[r],r,t)===!1)return o;return o},ui=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!K[typeof i])return o;e=e&&"undefined"==typeof n?e:b(e,n,3);for(var s=-1,a=K[typeof i]&&ti(i),u=a?a.length:0;++s<u;)if(r=a[s],e(i[r],r,t)===!1)return o;return o},ci=qr?function(t){if(!t||Ar.call(t)!=F)return!1;var e=t.valueOf,n=ce(e)&&(n=qr(e))&&qr(n);return n?t==n||qr(t)==n:le(t)}:le,li=oe(function(t,e,n){Nr.call(t,n)?t[n]++:t[n]=1}),fi=oe(function(t,e,n){(Nr.call(t,n)?t[n]:t[n]=[]).push(e)}),pi=oe(function(t,e,n){t[n]=e}),hi=Ze,di=Xe,vi=ce(vi=yr.now)&&vi||function(){return(new yr).getTime()},yi=8==Xr(j+"08")?Xr:function(t,e){return Xr(Pe(t)?t.replace(R,""):t,e||0)};return e.after=Nn,e.assign=oi,e.at=Fe,e.bind=Pn,e.bindAll=Mn,e.bindKey=Hn,e.chain=cr,e.compact=pn,e.compose=$n,e.constant=Vn,e.countBy=li,e.create=ve,e.createCallback=Kn,e.curry=Un,e.debounce=Dn,e.defaults=si,e.defer=Ln,e.delay=zn,e.difference=hn,e.filter=Xe,e.flatten=mn,e.forEach=Ke,e.forEachRight=Qe,e.forIn=ai,e.forInRight=ge,e.forOwn=ui,e.forOwnRight=be,e.functions=_e,e.groupBy=fi,e.indexBy=pi,e.initial=bn,e.intersection=_n,e.invert=xe,e.invoke=Ye,e.keys=ti,e.map=Ze,e.mapValues=He,e.max=tn,e.memoize=Bn,e.merge=$e,e.min=en,e.omit=Ue,e.once=Fn,e.pairs=De,e.partial=Jn,e.partialRight=Wn,e.pick=Le,e.pluck=hi,e.property=nr,e.pull=kn,e.range=jn,e.reject=on,e.remove=Sn,e.rest=En,e.shuffle=an,e.sortBy=ln,e.tap=lr,e.throttle=Xn,e.times=sr,e.toArray=fn,e.transform=ze,e.union=Tn,e.uniq=On,e.values=Be,e.where=di,e.without=Cn,e.wrap=Gn,e.xor=In,e.zip=Rn,e.zipObject=qn,e.collect=Ze,e.drop=En,e.each=Ke,e.eachRight=Qe,e.extend=oi,e.methods=_e,e.object=qn,e.select=Xe,e.tail=En,e.unique=On,e.unzip=Rn,Zn(e),e.clone=he,e.cloneDeep=de,e.contains=Je,e.escape=Qn,e.every=We,e.find=Ge,e.findIndex=dn,e.findKey=ye,e.findLast=Ve,e.findLastIndex=vn,e.findLastKey=me,e.has=we,e.identity=Yn,e.indexOf=gn,e.isArguments=pe,e.isArray=Yr,e.isBoolean=ke,e.isDate=je,e.isElement=Se,e.isEmpty=Ee,e.isEqual=Ae,e.isFinite=Te,e.isFunction=Oe,e.isNaN=Ie,e.isNull=Re,e.isNumber=qe,e.isObject=Ce,e.isPlainObject=ci,e.isRegExp=Ne,e.isString=Pe,e.isUndefined=Me,e.lastIndexOf=xn,e.mixin=Zn,e.noConflict=tr,e.noop=er,e.now=vi,e.parseInt=yi,e.random=rr,e.reduce=nn,e.reduceRight=rn,e.result=ir,e.runInContext=y,e.size=un,e.some=cn,e.sortedIndex=An,e.template=or,e.unescape=ar,e.uniqueId=ur,e.all=We,e.any=cn,e.detect=Ge,e.findWhere=Ge,e.foldl=nn,e.foldr=rn,e.include=Je,e.inject=nn,Zn(function(){var t={};return ui(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.first=yn,e.last=wn,e.sample=sn,e.take=yn,e.head=yn,ui(e,function(t,r){var i="sample"!==r;e.prototype[r]||(e.prototype[r]=function(e,r){var o=this.__chain__,s=t(this.__wrapped__,e,r);return o||null!=e&&(!r||i&&"function"==typeof e)?new n(s,o):s})}),e.VERSION="2.4.1",e.prototype.chain=fr,e.prototype.toString=pr,e.prototype.value=hr,e.prototype.valueOf=hr,Ke(["join","pop","shift"],function(t){var r=jr[t];e.prototype[t]=function(){var t=this.__chain__,e=r.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),Ke(["push","reverse","sort","unshift"],function(t){var n=jr[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Ke(["concat","slice","splice"],function(t){var r=jr[t];e.prototype[t]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var m,g=[],b=[],_=0,w=+new Date+"",x=75,k=40,j=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",S=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,T=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/\w*$/,C=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,R=RegExp("^["+j+"]*0+(?=.$)"),q=/($^)/,N=/\bthis\b/,P=/['\n\r\t\u2028\u2029\\]/g,M=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],H=0,$="[object Arguments]",U="[object Array]",D="[object Boolean]",L="[object Date]",z="[object Function]",B="[object Number]",F="[object Object]",J="[object RegExp]",W="[object String]",X={};X[z]=!1,X[$]=X[U]=X[D]=X[L]=X[B]=X[F]=X[J]=X[W]=!0;var G={leading:!1,maxWait:0,trailing:!1},V={configurable:!1,enumerable:!1,value:null,writable:!1},K={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Y=K[typeof window]&&window||this,Z=K[typeof r]&&r&&!r.nodeType&&r,te=K[typeof n]&&n&&!n.nodeType&&n,ee=te&&te.exports===Z&&Z,ne=K[typeof e]&&e;!ne||ne.global!==ne&&ne.window!==ne||(Y=ne);var re=y();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(Y._=re,t(function(){return re})):Z&&te?ee?(te.exports=re)._=re:Z._=re:Y._=re}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],91:[function(t,e){e.exports=t(81)},{FWaASH:86}],92:[function(e,n,r){!function(n,i){"undefined"!=typeof t&&t.amd?t(["exports","backbone","underscore"],i):"undefined"!=typeof r?i(r,e("backdash"),e("lodash")):i(n.Supermodel={},n.Backbone,n._)}(this,function(t,e,n){t.VERSION="0.0.4";var r=function(t,e){this.required(e,"name"),n.extend(this,n.pick(e,"name","where","source","store")),n.defaults(this,{source:this.name,store:"_"+this.name});var r=t;do if(r.associations()[this.name])throw new Error("Association already exists: "+this.name);while(r=r.parent);t.associations()[this.name]=this,this.initialize&&t.all().on("initialize",this.initialize,this),this.change&&t.all().on("change",this.change,this),this.parse&&t.all().on("parse",this.parse,this),this.destroy&&t.all().on("destroy",this.destroy,this),this.create&&t.all().on("add",this.create,this)};n.extend(r.prototype,{associate:function(t,e){this.inverse&&t.trigger("associate:"+this.inverse,t,e)},dissociate:function(t,e){this.inverse&&t.trigger("dissociate:"+this.inverse,t,e)},required:function(t){for(var e,n=1;n<arguments.length;n++)if(!t[e=arguments[n]])throw new Error("Option required: "+e)},andThis:function(t){var e=this;return function(){return t.apply(e,[this].concat(n.toArray(arguments)))}}});var i=function(t,e){this.required(e,"inverse","model"),r.apply(this,arguments),n.extend(this,n.pick(e,"inverse","model","id")),n.defaults(this,{id:this.name+"_id"}),t.all().on("associate:"+this.name,this.replace,this).on("dissociate:"+this.name,this.remove,this)};n.extend(i.prototype,r.prototype,{create:function(t){t[this.name]=n.bind(this.access,this,t)},access:function(t,e){return arguments.length<2?t[this.store]:void this.replace(t,e)},initialize:function(t){this.parse(t,t.attributes);var e=t.get(this.id);null!=e&&this.replace(t,e)},parse:function(t,e){if(e&&n.has(e,this.source)){var r=e[this.source];delete e[this.source],this.replace(t,r)}},change:function(t){t.hasChanged(this.id)&&this.replace(t,t.get(this.id))},remove:function(t){this.replace(t,null)},destroy:function(t){var e=t[this.store];e&&(this.remove(t),this.dissociate(e,t))},replace:function(t,e){var r,i;t&&(i=t[this.store],null==e||n.isObject(e)||(r=e,(e={})[this.model.prototype.idAttribute]=r),!e||e instanceof u||(e=this.model.create(e)),i!==e&&(e||t.unset(this.id),i&&(delete t[this.store],this.dissociate(i,t)),e&&(t.set(this.id,e.id),t[this.store]=e,this.associate(e,t))))}});var o=function(t,e){this.required(e,"inverse","collection"),r.apply(this,arguments),n.extend(this,n.pick(e,"collection","inverse","id")),t.all().on("associate:"+this.name,this._associate,this).on("dissociate:"+this.name,this._dissociate,this)};n.extend(o.prototype,r.prototype,{create:function(t){t[this.name]||(t[this.name]=n.bind(this.get,this,t))},get:function(t){var e=t[this.store];return e?e:(e=t[this.store]=(new this.collection).on("add",this.add,this).on("remove",this.remove,this).on("reset",this.reset,this),e.owner=t,e)},parse:function(t,e){if(e){var r=e[this.source];if(r){delete e[this.source];var i=this.get(t);return r=i.parse(r),this.where?void i.reset(n.filter(n.map(r,function(t){return new i.model(t)}),this.where)):void i.reset(r)}}},initialize:function(t){this.parse(t,t.attributes)},add:function(t,e){t&&e&&this.associate(t,e.owner)},remove:function(t,e){t&&e&&this.dissociate(t,e.owner)},reset:function(t){t&&t.each(function(e){this.associate(e,t.owner)},this)},destroy:function(t){var e;t&&(e=t[this.store])&&e.each(function(e){this.dissociate(e,t)},this)},_associate:function(t,e){t&&e&&(!this.where||this.where(e))&&this.get(t).add(e)},_dissociate:function(t,e){t&&e&&t[this.store]&&t[this.store].remove(e)}});var s=function(t,e){this.required(e,"collection","through","source"),r.apply(this,arguments),n.extend(this,n.pick(e,"collection","through")),this._associate=this.andThis(this._associate),this._dissociate=this.andThis(this._dissociate)};n.extend(s.prototype,r.prototype,{create:function(t){t[this.name]||(t[this.name]=n.bind(this.get,this,t))},get:function(t){var e=t[this.store];return e?e:(e=new this.collection,e.owner=t,t[this.store]=e,this.reset(t[this.through]().on("add",this.add,this).on("remove",this.remove,this).on("reset",this.reset,this).on("associate:"+this.source,this._associate).on("dissociate:"+this.source,this._dissociate)),e)},add:function(t,e){t&&e&&(t=t[this.source]())&&(!this.where||this.where(t))&&e.owner[this.name]().add(t)},remove:function(t,e){if(t&&e&&(t=t[this.source]())){var n=e.any(function(e){return e[this.source]()===t},this);n||e.owner[this.name]().remove(t)}},reset:function(t){if(t){var e=n.compact(n.uniq(n.invoke(t.models,this.source)));this.where&&(e=n.filter(e,this.where)),t.owner[this.name]().reset(e)}},_associate:function(t,e,n){t&&e&&n&&(!this.where||this.where(n))&&t.owner[this.name]().add(n)},_dissociate:function(t,e,n){if(t&&e&&n){var r=t.any(function(t){return t[this.source]()===n},this);r||t.owner[this.name]().remove(n)}}});var a=function(t){this.model=t};n.extend(a.prototype,{one:function(t,e){return e.name=t,new i(this.model,e),this},many:function(t,e){e.name=t;var n=e.through?s:o;return new n(this.model,e),this}});var u=t.Model=e.Model.extend({cidAttribute:"cid",initialize:function(){this.set(this.cidAttribute,this.cid);var t=this.constructor;do t.all().add(this);while(t=t.parent);this.trigger("initialize",this)},toJSON:function(){var t=e.Model.prototype.toJSON.apply(this,arguments);return delete t[this.cidAttribute],t},parse:function(t){return this.trigger("parse",this,t),t}},{create:function(t,e){var r=t&&t[this.prototype.idAttribute],i=this.find(t);if(e||(e={}),i&&t===i.attributes)return i;if(r&&i)return i.set(i.parse(t),n.extend(e,{silent:!1})),i;for(var o=this;o=o.parent;)if(o.all().get(r))throw new Error('Model with id "'+r+'" already exists.');return e.parse=!0,new this(t,e)},find:function(t){if(!t)return!1;var e=t[this.prototype.cidAttribute],n=t[this.prototype.idAttribute];return(e||n)&&this.all().get(e||n)||!1},has:function(){return new a(this)},all:function(){return this._all||(this._all=new e.Collection)},associations:function(){return this._associations||(this._associations={})},reset:function(){this._all=null,this._associations={}}})})},{backdash:85,lodash:90}],93:[function(t,e){e.exports={name:"sprintly-data",version:"0.0.4",main:"index.js",repository:{type:"git",url:"http://github.com/sprintly/sprintly-data.git"},dependencies:{"ampersand-dependency-mixin":"^0.2.3",async:"^0.9.0","backbone-super-sync":"0.0.13",backdash:"^1.1.2-2.4.1",btoa:"^1.1.2",envify:"^3.0.0",lodash:"^2.4.1",q:"^1.0.1",supermodel:"git://github.com/wookiehangover/supermodel.git",validator:"^3.17.0"},devDependencies:{browserify:"^4.2.0","browserify-swap":"^0.2.1",chai:"^1.9.1","chai-as-promised":"^4.1.1",gulp:"^3.8.7","gulp-jsfmt":"^0.2.0","gulp-jshint":"^1.8.4","gulp-mocha":"^1.0.0","jshint-stylish":"^0.4.0",mocha:"^1.21.4",sinon:"^1.10.3","uglify-js":"^2.4.14",watchify:"^1.0.2"},scripts:{test:"mocha test",gulp:"gulp test",build:"browserify index.js -o dist/sprintly.js -s sprintly","build-test":"browserify test/browser/index.js -o test/browser/bundle.js -d","watch-test":"watchify test/browser/index.js -o test/browser/bundle.js -d -v",minify:"cat dist/sprintly.js | uglifyjs -cm > dist/sprintly.min.js ",prepublish:"npm run build && npm run minify"},browserify:{transform:["envify"]},description:"> A JavaScript client for the sprint.ly CORS API",bugs:{url:"https://github.com/sprintly/sprintly-data/issues"},homepage:"https://github.com/sprintly/sprintly-data",directories:{test:"test"},keywords:["sdk"],author:"Quick Left Team",license:"BSD"}},{}]},{},[1])(1)});